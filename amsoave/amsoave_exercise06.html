
<!doctype html>
<!--
filename : gpcorser_exercise05.html
purpose  : demonstrate jquery compared to javascript
design   : <head> 
				
           <body> 
		       
-->
<html>
	<head>
		<script src="https://code.jquery.com/jquery-2.1.4.min.js"> </script>
	</head>
	<body>
		<h1>Exercise 6</h1>
		<h2>Demonstrating Ajax</h2>
	   <h3>Start typing a name in the input field below:</h3>

		<!-- 1. Get input from user -->
		<form action=""> 
		First name: <input type="text" id="txt1" onkeyup="showHint(this.value)">
		</form>

		<!-- 2. Show options from php file -->
		<p>Suggestions: <span id="txtHint"></span></p> 

		<script>
			function showHint(str) {
			  var n = -1;
			  var xhttp;
			  if (str.length == 0) { // blanks out suggestions if input field empty
				document.getElementById("txtHint").innerHTML = "";
				return;
			  }
			  xhttp = new XMLHttpRequest(); // Creates object to sent/receive
			  xhttp.onreadystatechange = function() {
				// displays info if 4 (message received) and 200 (status=success)
				if (xhttp.readyState == 4 && xhttp.status == 200) {
				  n = str.lastIndexOf()
				  document.getElementById("txtHint").innerHTML = xhttp.responseText;
				  str2 = document.getElementById("txtHint").innerHTML;
				  n = str2.lastIndexOf(",");
				  if(n>-1){
					document.getElementById("txtHint").innerHTML = str2.substr(0,n)+" and"+str2.substr(n+1);
				  }
				  
				}
			  }
			  xhttp.open("GET", "gethint.php?q="+str, true);
			  xhttp.send();   
			  
			}
		</script>
	</body>
</html>


















