<!DOCTYPE html>
<!-- 
filename: ajhaltom_prog3_order.html
author  : alex haltom, cis255, fall2015
purpose : this program demonstrates javascript and jquery
design  : 
	<head> 0. favicon and browser tab title
		   1. bootstrap and jquery
	<body>
		0. header
		1. mail info table
		2. customer info table
		3. item info table
		4. highlight yellow and odd rows are gray
		5. running totals
		6. freight amount
		7. tax rate
-->
<html>
	<head>
		<!-- 0. favicon and browser tab title -->
		<link rel='icon' href='../../cardinal_logo.png' type='image/png' />
		<title>CIS-255: Golf Center</title>
		<!-- 1. bootstrap and jquery -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
	</head>
	
	<!-- This style block makes all input boxes take up the whole width of the td -->
	<style>
	input{
		width:100%;
	}
	</style>
	
	<body>
		<!--
		=================================================================
		0. header 
		=================================================================
		-->
		<h1 align="center">Haltom Golf Center</h1>
		<h3 align="center">Customer Order Form</h3>

		<!--
		=================================================================
		1. mail info table
		=================================================================
		-->
		<table border="1" style="margin:10px" align="left" id="mailinfo">
			<tr>
				<th colspan="3">Mail Orders to:</th>
			</tr>
			<tr>
				<td colspan="3">
					<input type="text" size="46" id="customer_name" placeholder="Customer Name">
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<input type="text" size="46" id="customer_address" placeholder="Address">
				</td>
			</tr>
			<tr>
				<td>
					<input id="customer_city_input" type="text" id="customer_city" placeholder="City">
				</td>
				<td>
					<input type="text" size="5" id="customer_state" placeholder="State">
				</td>
				<td>
					<input type="text" size="10" id="customer_zip" placeholder="Zip">
				</td>
			</tr>
		</table>
		
		<br />
		
		<!--
		=================================================================
		2. customer info table
		=================================================================
		-->
		<table border="1" align="center" id="orderinfo">
			<tr>
				<td>Order Number:</td>
				<td>
					<input type="text" size="20">
				</td>
			</tr>
			<tr>
				<td>Order Date:</td>
				<td>
					<input type="text" size="20">
				</td>
			</tr>
			<tr>
				<td>Customer Name:</td>
				<td>
					<input type="text" size="20">
				</td>
		</table>
		
		
		<br>
		
		<!--
		=================================================================
		3. item info table
		=================================================================
		-->
		<table border="1" style="margin:10px" width="90%" id="iteminfo">
			<tr>
				<td><big><big>Item No.</big></big></td>
				<td><big><big>Description</big></big></td>
				<td><big><big>Quantity</big></big></td>
				<td><big><big>Price</big></big></td>
				<td><big><big>Amount</big></big></td>
			</tr>
			<tr>
				<td>
					<input type="text" width="100%">
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty1" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price1" onkeyup="calcAmount('1')">
				</td>
				<td>
					<input type="text" id="amount1" value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty2" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price2" onkeyup="calcAmount('2')">
				</td>
				<td>
					<input type="text" id="amount2" value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty3" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price3" onkeyup="calcAmount('3')">
				</td>
				<td>
					<input type="text" id="amount3" value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty4" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price4" onkeyup="calcAmount('4')">
				</td>
				<td>
					<input type="text" id="amount4" value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td id ="description">
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty5" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price5" onkeyup="calcAmount('5')">
				</td>
				<td>
					<input type="text" id="amount5"  value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td id ="description">
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty6" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price6" onkeyup="calcAmount('6')">
				</td>
				<td>
					<input type="text" id="amount6"  value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td id ="description">
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty7" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price7" onkeyup="calcAmount('7')">
				</td>
				<td>
					<input type="text" id="amount7" value="0.00">
				</td>
			</tr>
			<tr>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text">
				</td>
				<td>
					<input type="text" id="qty8" value="0" onkeyup="calcFreightAmount()">
				</td>
				<td>
					<input type="text" id="price8" onkeyup="calcAmount('8')">
				</td>
				<td>
					<input type="text" id="amount8" value="0.00">
				</td>
			</tr>
			<tr>
				<td colspan="4" style="background-color=#336699" align="right"><big>Sub-Total</big></td>
				<td>
					<input type="text" id="subTotal" value="0.00">
				</td>
			</tr>
			<tr>
				<td colspan="4" align="right"><big>Freight Amount</big></td>
				<td>
					<input type="text" id="freightAmount">
				</td>
			</tr>
			<tr>
				<td colspan="4" align="right"><big>Tax</big></td>
				<td>
					<input type="text" id="tax">
				</td>
			</tr>
			<tr>
				<td colspan="4" align="right"><big>Total</big></td>
				<td>
					<input type="text" id="total">
				</td>
			</tr>
		</table>
		
		<!--
		=================================================================
		4. highlight yellow and odd rows are gray
		=================================================================
		-->
		<script>
		$("document").ready(function init() {
						
				// set every other line in tble to gray
				$("#iteminfo > tbody > tr:odd").css("background-color","#c0c0c0");
				$("#iteminfo > tbody > tr:odd input").css("background-color","#c0c0c0");
				
				var tableRows = $("tr");
				
				
			});
			
			// This sets the current selected cell to highlight yellow
			$("input").focus(function(){
				var defColor = $(this).css('background-color',"#F4F29D");
			});
			
			// This sets the data cell back to normal when going off-focus
			$("input").blur(function(){
				$("#iteminfo > tbody > tr:odd").css("background-color","#c0c0c0");
				$("#iteminfo > tbody > tr:odd input").css("background-color","#c0c0c0");
				$("#iteminfo > tbody > tr:even").css("background-color","white");
				$("#iteminfo > tbody > tr:even input").css("background-color","white");
				
				$("#orderinfo > tbody > tr:odd").css("background-color","white");
				$("#orderinfo > tbody > tr:odd input").css("background-color","white");
				$("#orderinfo > tbody > tr:even").css("background-color","white");
				$("#orderinfo > tbody > tr:even input").css("background-color","white");
				
				$("#mailinfo > tbody > tr:odd").css("background-color","white");
				$("#mailinfo > tbody > tr:odd input").css("background-color","white");
				$("#mailinfo > tbody > tr:even").css("background-color","white");
				$("#mailinfo > tbody > tr:even input").css("background-color","white");
		});
		</script>
		
		
		<!--
		=================================================================
		5. running totals
		=================================================================
		-->
		<script>
			// This function calculates the amount for each row
			function calcAmount(num) {
			
				if(num=="1"){
					var quant = document.getElementById('qty1').value;
					var price = document.getElementById('price1').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount1').value = A;
				}
				
				if(num=="2"){
					var quant = document.getElementById('qty2').value;
					var price = document.getElementById('price2').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount2').value = A;
				}
				
				if(num=="3"){
					var quant = document.getElementById('qty3').value;
					var price = document.getElementById('price3').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount3').value = A;
				}
				
				if(num=="4"){
					var quant = document.getElementById('qty4').value;
					var price = document.getElementById('price4').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount4').value = A;
				}
				
				if(num=="5"){
					var quant = document.getElementById('qty5').value;
					var price = document.getElementById('price5').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount5').value = A;
				}
				
				if(num=="6"){
					var quant = document.getElementById('qty6').value;
					var price = document.getElementById('price6').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount6').value = A;
				}
				
				if(num=="7"){
					var quant = document.getElementById('qty7').value;
					var price = document.getElementById('price7').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount7').value = A;
				}
				
				if(num=="8"){
					var quant = document.getElementById('qty8').value;
					var price = document.getElementById('price8').value;
					var A = (quant*price).toFixed(2);
					document.getElementById('amount8').value = A;
				}
					
				// Adds up all amounts!
				var setSubTotal = (parseFloat(document.getElementById('amount1').value) + 
					parseFloat(document.getElementById('amount2').value) + parseFloat(document.getElementById('amount3').value) + 
					parseFloat(document.getElementById('amount4').value) + parseFloat(document.getElementById('amount5').value) + 
					parseFloat(document.getElementById('amount6').value) + parseFloat(document.getElementById('amount7').value) + 
					parseFloat(document.getElementById('amount8').value));
					document.getElementById('subTotal').value = setSubTotal.toFixed(2);
				
				// Uses tax rate and multiplies by subtotal to calculate tax
				var stateTax = setSubTotal*getTaxRate();
				document.getElementById('tax').value = stateTax.toFixed(2);
				
				// Calculates total amount!
				var totalAmount = setSubTotal+stateTax;
				document.getElementById('total').value = "$"+totalAmount.toFixed(2);
			};
			
		/*
		=================================================================
		6. freight amount
		=================================================================
		*/
			
			function calcFreightAmount() {
				
				var setFreightAmount = (parseFloat(document.getElementById('qty1').value) + 
					parseFloat(document.getElementById('qty2').value) + parseFloat(document.getElementById('qty3').value) + 
					parseFloat(document.getElementById('qty4').value) + parseFloat(document.getElementById('qty5').value) + 
					parseFloat(document.getElementById('qty6').value) + parseFloat(document.getElementById('qty7').value) + 
					parseFloat(document.getElementById('qty8').value));
					document.getElementById('freightAmount').value = setFreightAmount;
					
			};
		
		/*
		=================================================================
		7. tax rate
		=================================================================
		*/
			
			function getTaxRate() {
			// This segment is based from cis255/bjcobb/ex03_order/ (Brian Cobb's program)
			var taxRates = {
				AL:4.00,
				AK:0.00,
				AZ:5.60,
				AR:6.50,
				CA:7.50,
				CO:2.90,
				CT:6.35,
				DE:0.00,
				DC:6.00,
				FL:4.00,
				GA:4.00,
				HI:6.00,
				ID:6.25,
				IL:7.00,
				IN:6.00,
				IA:6.15,
				KS:6.00,
				KY:4.00,
				LA:5.50,
				ME:6.00,
				MD:6.25,
				MA:6.00,
				MI:6.88,
				MN:7.00,
				MS:4.23,
				MO:0.00,
				MT:5.50,
				NE:6.85,
				NV:0.00,
				NH:7.00,
				NJ:5.13,
				NM:4.00,
				NY:4.75,
				NC:5.00,
				ND:5.75,
				OH:4.50,
				OK:0.00,
				OR:6.00,
				PA:7.00,
				RI:6.00,
				SC:4.00,
				SD:7.00,
				TN:6.25,
				TX:5.95,
				UT:6.00,
				VT:5.30,
				VA:6.50,
				WA:6.00,
				WV:5.00,
				WI:4.00,
				WY:5.75
			};
				// Get State from user
				var state = document.getElementById("customer_state").value;
				// Change entry to upper case in order to match our data
				state = state.toUpperCase();
				// if the state matches it will calculate, if not the user will be alerted
				if (typeof taxRates[state] !== "undefined"){
					return taxRates[state]/100;}
				else
					alert("The state is invalid");
				return 0;
		};
		</script>

	</body>
</html>