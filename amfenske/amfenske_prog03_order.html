	<!-- 
	program			: amfenske_prog03_order.html 
	author			: Anna Fenske
	purpose			: Demonstrate html, javascript, and jquery
	design			:
						<head> stylesheets
						<body>
							1. Use Bootstrap for overall formatting
							2. Make customer information (under "Mail Orders to:) user-enterable
							3. Create object of states and taxes
							4. Compute "Tax" based on State entered in customer information
							5. Create object of freight amounts and weights
							6. Compute "Freight Amount" based on sum of Qty entered in order detail 
							7. Use jQuery to make order detail lines appear in different color every other line
							8. Highlight in yellow any field a user clicks
	-->

<html>
<title>Bock Golf Center</title>
<head>
    <script src = "https://code.jquery.com/jquery-2.1.4.js"></script>
	
	<!-- 1. Use Bootstrap for overall formatting -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> 	

        <style>
                        h1 {
                                font-family: 'Rockwell Extra Bold', 'Rockwell Bold', monospace;
                                font-size: 50px;
                                font-style: normal;
                                font-variant: normal;
                                font-weight: 500;
                                line-height: 26.4px;
                        }
                        h2 {
                                font-family: 'Rockwell Extra Bold', 'Rockwell Bold', monospace;
                                font-size: 30px;
                                font-style: normal;
                                font-variant: normal;
                                font-weight: 500;
                                line-height: 15.4px;
                        }
                        div {
                                font-family: 'Rockwell Extra Bold', 'Rockwell Bold', monospace;
                                font-size: 15px;
                                font-style: normal;
                                font-variant: normal;
                                font-weight: 400;
                                line-height: 20px;
                        }
        </style>

</head>
<body>
<div class="container">

    <!--1. Header-->
    <div class="row">
        <div class="text-center">
            <h1><i class="glyphicon glyphicon-flag"></i>Bock Golf Center<i class="glyphicon glyphicon-flag"></i></h1>
            <h2>Customer Order Form</h2>
			</br>
			</br>
			</br>
			</div>
    </div>
    <div class="row">
	
	<!--2. Make customer information (under "Mail Orders to:) user-enterable-->
        <div class="col-md-12">
            <b><i class="glyphicon glyphicon-envelope"></i>Mail Orders to:</b><br>
            <table>
                <tr>
                    <td colspan="3"><input id="companyName" type="text" placeholder="COMPANY NAME" class="form-control"/></td>
                    <td colspan="3">Order Number</td><td><input type="text" id="orderNumber" class="form-control"></td>
                </tr>				
                <tr>
                    <td colspan="3"><input id="companyAddress" type="text" placeholder="ADDRESS" class="form-control"/></td>
                    <td colspan="3">Order Date</td><td><input type="text" id="orderDate" class="form-control"></td>					
                </tr>
                <tr>
                    <td><input id="City" type="text" placeholder="CITY" class='zip-lookup-field-city form-control' /></td>
                    <td id="State">
						<!-- Drop down menu code taken from: http://www.freeformatter.com/usa-state-list-html-select.html -->
						<select>
								<option value="AL">Alabama</option>
								<option value="AK">Alaska</option>
								<option value="AZ">Arizona</option>
								<option value="AR">Arkansas</option>
								<option value="CA">California</option>
								<option value="CO">Colorado</option>
								<option value="CT">Connecticut</option>
								<option value="DE">Delaware</option>
								<option value="DC">District Of Columbia</option>
								<option value="FL">Florida</option>
								<option value="GA">Georgia</option>
								<option value="HI">Hawaii</option>
								<option value="ID">Idaho</option>
								<option value="IL">Illinois</option>
								<option value="IN">Indiana</option>
								<option value="IA">Iowa</option>
								<option value="KS">Kansas</option>
								<option value="KY">Kentucky</option>
								<option value="LA">Louisiana</option>
								<option value="ME">Maine</option>
								<option value="MD">Maryland</option>
								<option value="MA">Massachusetts</option>
								<option value="MI">Michigan</option>
								<option value="MN">Minnesota</option>
								<option value="MS">Mississippi</option>
								<option value="MO">Missouri</option>
								<option value="MT">Montana</option>
								<option value="NE">Nebraska</option>
								<option value="NV">Nevada</option>
								<option value="NH">New Hampshire</option>
								<option value="NJ">New Jersey</option>
								<option value="NM">New Mexico</option>
								<option value="NY">New York</option>
								<option value="NC">North Carolina</option>
								<option value="ND">North Dakota</option>
								<option value="OH">Ohio</option>
								<option value="OK">Oklahoma</option>
								<option value="OR">Oregon</option>
								<option value="PA">Pennsylvania</option>
								<option value="RI">Rhode Island</option>
								<option value="SC">South Carolina</option>
								<option value="SD">South Dakota</option>
								<option value="TN">Tennessee</option>
								<option value="TX">Texas</option>
								<option value="UT">Utah</option>
								<option value="VT">Vermont</option>
								<option value="VA">Virginia</option>
								<option value="WA">Washington</option>
								<option value="WV">West Virginia</option>
								<option value="WI">Wisconsin</option>
								<option value="WY">Wyoming</option>
						</select></td>
                    <td colspan="1"><input id="ZipCode" type="text" placeholder="ZIP CODE" class='zip-lookup-field-zipcode form-control'/></td>
					<td colspan="3">Customer Name</td><td><input type="text" id="custName" class="form-control"></td>
                </tr>
            </table>
        </div>

	<div class="row">
	<div class="col-md-12">
        <!--Form table -->
        <table border="1" id="orderTable" class="table table-striped">
        <thead id="firstRow">
            <tr>
                <th class="col-xs-1">Item No.</th>
                <th class="col-xs-4">Description</th>
				<th class="col-xs-1">Quantity</th>
                <th class="col-xs-1">Price</th>
                <th class="col-xs-1">Amount</th>
            </tr>  dataTable
						<tr>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="itemNo1" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="descrp1" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="qty1" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="price1" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
										<input type="text" id="amt1"/>
                                </td>
                        </tr>
						
                        <tr>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="itemNo2" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="descrp2" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="qty2" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="price2" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
										<input type="text" id="amt2"/>								
                                </td>
                        </tr>

                        <tr>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="itemNo3" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="descrp3" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="qty3" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="price3" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
										<input type="text" id="amt3"/>								
                                </td>
                        </tr>

                        <tr>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="itemNo4" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="descrp4" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="qty4" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="price4" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
										<input type="text" id="amt4"/>								
                                </td>
                        </tr>

                        <tr>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="itemNo5" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="descrp5" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="qty5" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
                                        <input type="text" id="price5" class="form-control"/>
                                </td>
                                <td colspan="1" style="text-align:center">
										<input type="text" id="amt5"/>								
                                </td>
                        </tr>						

            <thead>

		<tr>
			<td colspan="4" align="right"><i>Sub-Total</i></td>
			<td id="subTot"></td>
		</tr>
		<tr>
			<td colspan="4" align="right"><i>Freight Amount</i></td>
			<td id="freightTotal"></td>
		</tr>
		<tr>
			<td colspan="4" align="right"><i>Tax</i></td>
			<td id="taxRate"></td>
		</tr>
		<tr>
			<td colspan="4" align="right"><b>Total Amount</b></td>
			<td id="totalAmount"></td>
		</tr>

        </table>
    </div>
</div>
</div>

<script>
	// object for eatch item ordered/table row
	var CurrentOrder = function()
	{
		this.itemNo;
		this.descrp;
		this.qty;
		this.price;
		this.amt;
	};
	
	var allOrders = [];
	for (var a =1; a< 5; a++)
	{
		allOrders.push(new CurrentOrder);		
	}
	for (var a =1; a< 5; a++)
	{
		var	num = "itemNo" + a;
		var	desc = "descrp" + a;
		var	quant = "qty" + a;
		var	pr = "price" + a;
		var	amnt = "amt" + a;
		
		//below code taken and modified from http://www.w3schools.com/js/tryit.asp?filename=tryjs_function_return
			
			allOrders[a].itemNo = document.getElementById(num).value;
			allOrders[a].descrp = document.getElementById(desc).value;
			allOrders[a].qty = document.getElementById(quant).value;
			allOrders[a].price = document.getElementById(pr).value; 
			allOrders[a].amt = (document.getElementById(quant).value)*(document.getElementById(pr).value);	
	}
	
		var taxRate = subTot*taxRateLookUp();
		$("#State").change(function changeState(){
			taxState = $("#State option:selected").val();
			
		//tax rates taken from http://taxfoundation.org/article/state-and-local-sales-tax-rates-2015
           
		function taxRateLookUp() 
		{
			var taxRates = 
			{
				AL:0.0891,
				AK:0.0176,
				AZ:0.0817,
				AR:0.0926,
				CA:0.0844,
				CO:0.0744,
				CT:0.0635,
				DE:0.0000,
				DC:0.0757,
				FL:0.0665,
				GA:0.0696,
				HI:0.0435,
				ID:0.0601,
				IL:0.0819,
				IN:0.0700,
				IA:0.0678,
				KS:0.0820,
				KY:0.0600,
				LA:0.0891,
				ME:0.0550,
				MD:0.0600,
				MA:0.0625,
				MI:0.0600,
				MN:0.0720,
				MS:0.0707,
				MO:0.0781,
				MT:0.0000,
				NE:0.0680,
				NV:0.0794,
				NH:0.0000,
				NJ:0.0697,
				NM:0.0735,
				NY:0.0848,
				NC:0.0690,
				ND:0.0656,
				OH:0.0710,
				OK:0.0877,
				OR:0.0000,
				PA:0.0634,
				RI:0.0700,
				SC:0.0713,
				SD:0.0583,
				TN:0.0945,
				TX:0.0805,
				UT:0.0668,
				VT:0.0614,
				VA:0.0563,
				WA:0.0889,
				WV:0.0607,
				WI:0.0543,
				WY:0.0547
			}
        };
			
			$("input").focus(function UserfocusYellow(){
				$(this).css("background-color", "yellow");    
			});
			
			$("input").focusout(function PostClickingRevert(){
					$("tr:even input").css("background-color","white")
					$("tr:odd input").css("background-color","#c0c0c0")});

			
			function upDate()
			{
				var tempTotal= 0;
				var tempFreight = 0; // counters for quantity and totals
				 Number(tempFreight);
				for (var a = 1; a< 5; a++) // loops through all rows on the page 
				{
					var	num = "itemNo" + a;
					var	desc = "descrp" + a;
					var	quant = "qty" + a;
					var	pr = "price" + a;
					var	amnt = "amt" + a;
						
					
						allOrders[i].itemNo = document.getElementById(num).value;
						allOrders[i].descrp = document.getElementById(desc).value;
						allOrders[i].qty = document.getElementById(quant).value;
						allOrders[i].price = document.getElementById(pr).value;
						allOrders[i].amt = allOrders[a].price * allOrders[a].qty;
						if (($("#"+quant).length !== 0 ) && ($("#"+pr).length !==0)) 
						{
							
							document.getElementById(amnt).value="$" + AllOrders[a].amt.toFixed(2);
						};
						tempTot+=AllOrders[a].amt;
						tempFreight+= Number(AllOrders[a].qty);
				}
				document.getElementById("freightTotal").innerHTML = tempFreight;
				document.getElementById("subTot").innerHTML ="$" + tempTo.toFixed(2); 
				// these statemetns are setting the final totals at the bottom of the table
			
				document.getElementById("taxRate").innerHTML = "$" + parseFloat(taxRate * tempTot).toFixed(2);
				document.getElementById("totalAmount").innerHTML ="$" + (tempTot + (taxRate * tempTot)).toFixed(2);
			};
			
			
	</script>
</div>
</div>
</body>
</html>



